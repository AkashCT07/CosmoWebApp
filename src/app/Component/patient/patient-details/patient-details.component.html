

    
  
  
<div style="margin-left: 3px">
  <div>
    <mat-card>
      <div style="margin-left: 60%">
        <button mat-raised-button color="primary" (click)="Addupdatepatientdetails(0)">
          Save
        </button>
  
        <button mat-raised-button color="primary" (click)="Addupdatepatientdetails(1)">update</button>
  
        <button mat-raised-button color="primary" (click)="Clearpatientdetails()">Clear</button>
        <button mat-raised-button color="primary" (click)="fetchdata()">fetchdata</button>
      </div>
    </mat-card>
  </div>
  <mat-card-content>
    <div class="container">
  <div fxFlex.gt-md="70" fxFlex.gt-sm="90" fxFlex.sm="60" fxFlex="100">
    <div fxLayout="column" style="margin-top: 2%">
      <div fxFlex="30" class="flex-p"></div>
      <div fxFlex="50" class="flex-p">
    <form [formGroup]="form">
      <mat-accordion>
        <mat-card class="form-group" style="margin-top: 3%">
          <p><b>Demographics Details</b></p>
          <mat-stepper orientation="vertical" #stepper>
            <mat-step [stepControl]="form">
                <ng-template matStepLabel>Personal Details</ng-template>
                <span>
                  <mat-form-field appearance="outline">
                    <mat-label>First Name</mat-label>
                    <input
                      matInput
                      placeholder="First Name"
                      formControlName="firstname"
                      maxlength="50"
                    />
                    <!-- <mat-icn matSuffix>sentiment_very_satisfied</mat-icon> -->
                    <mat-error>{{ form.controls['firstname']?.errors?.['errorMessage'] }}</mat-error>
                    
                       <mat-error
                    *ngIf="form.controls['firstname']?.errors?.['pattern'] && form.controls['firstname']?.touched">
                    Only Characters are allowed
                       </mat-error>
                      
                  </mat-form-field>
                </span>
  
                <span>
                  <mat-form-field appearance="outline">
                    <mat-label>Last Name</mat-label>
                    <input
                      matInput
                      placeholder="Last Name"
                      class="form-group"
                      formControlName="lastname"
                    maxlength="50"
                    />
                    <mat-error>{{ form.controls['lastname']?.errors?.['errorMessage'] }}</mat-error>
                       <mat-error
                       *ngIf="form.controls['lastname']?.errors?.['pattern'] && form.controls['lastname']?.touched">
                       Only Characters are allowed
                          </mat-error>
                       
                  </mat-form-field>
                </span>
                <span >
                  
                  <mat-form-field appearance="outline">
                    <input
                        matInput
                        [matDatepicker]="dp"
                        placeholder="DOB"
                        [max]="today"
                        formControlName="dateofbirth"
                        (dateInput)="addEvent($event)" (dateChange)="addEvent($event)"
                        readonly
                    >
                    <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
                    <mat-datepicker #dp></mat-datepicker>
                    <mat-error *ngIf="form.controls['dateofbirth']?.errors?.['matDatepickerMax']">Date should be inferior</mat-error>
                </mat-form-field>
                </span>
               
                <span>
                  <label>Gender: </label>
                  <mat-radio-group
                    aria-labelledby="example-radio-group-label"
                    class="example-radio-group"
                    [(ngModel)]="selectedgender" formControlName="gender"
                    (change)="onChange()"
                  >
                    <mat-radio-button
                      class="example-radio-button"
                      *ngFor="let genders of genderlist"
                      [value]="genders">
                      {{ genders }}
                    </mat-radio-button>
                  </mat-radio-group>
                  <mat-error
                  *ngIf="form.controls['gender']?.errors?.['required'] && form.controls['gender']?.touched"
                >
                Gender is required field
                 </mat-error>
  
                </span>
                 <span>
                  <mat-form-field appearance="outline">
                    <mat-label>Age</mat-label>
                    <input type="number" matInput placeholder="Age" min="0" max="150" formControlName="age"  />
                  </mat-form-field>
                </span> 
                <span style="margin-right: 10%">
                  <mat-form-field appearance="outline">
                    <mat-label>Race</mat-label>
                    <input
                      matInput
                      placeholder="Race"
                      class="form-group"
                      formControlName="race"
                      maxlength="50"
                    />
                     <mat-error>{{ form.controls['firstname']?.errors?.['errorMessage'] }}</mat-error>
                    <mat-error
                    *ngIf="form.controls['race']?.errors?.['pattern'] && form.controls['race']?.touched">
                    Only Characters are allowed
                       </mat-error>
                  </mat-form-field>
                </span>
  
                <span>
                  <mat-form-field appearance="outline">
                    <mat-label>Ethnicity</mat-label>
                    <input
                      matInput
                      placeholder="Ethnicity"
                      class="form-group"
                      formControlName="ethnicity"
                      maxlength="50"
                    />
                    
                    <mat-error>{{ form.controls['ethnicity']?.errors?.['errorMessage'] }}</mat-error>
                    
                       <mat-error
                    *ngIf="form.controls['ethnicity']?.errors?.['pattern'] && form.controls['ethnicity']?.touched">
                    Only Characters are allowed
                       </mat-error>
                  </mat-form-field>
                </span>
  
                <span>
                  <mat-form-field appearance="outline">
                    <mat-label>Languages Known</mat-label>
                    <textarea
                      matInput
                      class="form-group"
                      formControlName="languagesknown"
                      maxlength="50"
                    ></textarea>
                    
                    <mat-error>{{ form.controls['languagesknown']?.errors?.['errorMessage'] }}</mat-error>
                       <mat-error
                    *ngIf="form.controls['languagesknown']?.errors?.['pattern'] && form.controls['languagesknown']?.touched">
                    Only Characters are allowed
                       </mat-error>
                  </mat-form-field>
                </span>
  
                <span>
                  <mat-form-field appearance="outline">
                    <mat-label>Email</mat-label>
                    <input
                      type="email"
                      matInput
                      placeholder="Email"
                      class="form-group"
                      formControlName="email"
                    />
                    <mat-error
                      *ngIf="form.controls['email']?.errors?.['email'] && form.controls['email']?.touched"
                      >Enter email in correct format
                    </mat-error>
                    
                  </mat-form-field>
                </span>
  
                <span >
                  <mat-form-field appearance="outline">
                    <mat-label>Home Address</mat-label>
                    <textarea matInput formControlName="homeaddress"></textarea>
                    <mat-error
                    *ngIf="form.controls['homeaddress']?.errors?.['minlength'] && form.controls['homeaddress']?.touched">
                    Please Provide postal address
                       </mat-error>
                  </mat-form-field>
                </span>
  
                
                  <span>
                    <mat-form-field appearance="outline">
                      <mat-label></mat-label>
                      <input
                        type="text"
                        matInput
                        placeholder="Mobile-Number"
                        class="form-group"
                        maxlength="10"
                        formControlName="contactnumber"
                        ng2TelInput
                        ng2TelOutput="getNumber($event)"
                        int1TelInputObject="telInputObject($event)"
                        (countryChange)="onCountryChange($event)"
                      />
                      <mat-error
                      *ngIf="form.controls['contactnumber']?.errors?.['minlength']"
                      >Telephone number has XX Digits
                    </mat-error>
                    <mat-error
                      *ngIf="form.controls['contactnumber']?.errors?.['maxlength']"
                      >Telephone number has XX Digits
                    </mat-error>
                    <mat-error
                      *ngIf="form.controls['contactnumber']?.errors?.['pattern']"
                      >Only numbers are allowed
                    </mat-error>
                    </mat-form-field>
                  </span>
                
                <span>
                  <mat-form-field appearance="outline">
                    <mat-label>PinCode</mat-label>
                    <input
                      type="text"
                      matInput
                      placeholder="PinCode"
                      maxlength="6"
                      (change)="onChangeEvent($event)"
                      formControlName="pincode"
                    />
                    <mat-error
                    *ngIf="form.controls['pincode']?.errors?.['pattern']"
                    >only Numbers are allowed
                  </mat-error>
                  <mat-error
                    *ngIf="form.controls['pincode']?.errors?.['maxlength']"
                    >Pincode number has XI Digits
                  </mat-error>
                    <mat-error
                      *ngIf="form.controls['pincode']?.errors?.['required'] && form.controls['pincode']?.touched"
                    >
                      Required Field</mat-error
                    >
                    
                  </mat-form-field>
                  </span>
                <span >
                  <mat-form-field appearance="outline">
                    <mat-label>Country</mat-label>
                    <input
                      type="text"
                      matInput
                      placeholder="Country"
                      formControlName="country1"
                      readonly
                    />
                  </mat-form-field>
                </span>
                <span >
                  <mat-form-field appearance="outline">
                    <mat-label>State</mat-label>
                    <input
                      type="text"
                      matInput
                      placeholder="State"
                      formControlName="state"
                      readonly
                    />
                  </mat-form-field>
                </span>
                <div>
                  <button mat-button matStepperNext>Next</button>
                </div>
             
            </mat-step>
            <mat-step>
              <ng-template matStepLabel>Emergency Details</ng-template>
              <span style="margin-right: 10%">
                <mat-form-field appearance="outline">
                  <mat-label>First Name</mat-label>
                  <input
                    matInput
                    placeholder="First Name"
                    class="form-group"
                    formControlName="emergancyfirstname"
                  />
                  <mat-error>{{ form.controls['emergancyfirstname']?.errors?.['errorMessage'] }}</mat-error>
                   <mat-error
                *ngIf="form.controls['emergancyfirstname']?.errors?.['pattern'] && form.controls['emergancyfirstname']?.touched">
                Only Characters are allowed
                   </mat-error>
                </mat-form-field>
              </span>
              <span >
                <mat-form-field appearance="outline">
                  <mat-label>Last Name</mat-label>
                  <input
                    matInput
                    placeholder="Last Name"
                    class="form-group"
                    formControlName="emergancylastname"
                  />
                  <mat-error>{{ form.controls['emergancylastname']?.errors?.['errorMessage'] }}</mat-error>
                   <mat-error
                *ngIf="form.controls['emergancylastname']?.errors?.['pattern'] && form.controls['emergancylastname']?.touched">
                Only Characters are allowed
                   </mat-error>
                </mat-form-field>
              </span>
              <span>
                <mat-form-field appearance="outline">
                  <mat-label>Relationship</mat-label>
                  <mat-select
                  formControlName="emergancyrelationship"
                    multiple
                    
                    required
                  >
                    
                    <mat-option
                      *ngFor="let Relation of RelationshipList"
                      [value]="Relation"
                      >{{ Relation }}</mat-option
                    >
                  </mat-select>
                  <mat-error *ngIf="form.hasError('required')"
                    >please select relationship</mat-error
                  >
                </mat-form-field>
              </span>
              <span style="margin-right: 10%">
                <mat-form-field appearance="outline">
                  <mat-label>Email</mat-label>
                  <input
                    type="email"
                    matInput
                    placeholder="Email"
                    class="form-group"
                    formControlName="emergancyemail"
                  />
                  <mat-error
                    *ngIf="form.controls['emergancyemail']?.errors?.['emergancyemail'] && form.controls['emergancyemail']?.touched"
                    >Enter email in correct format
                  </mat-error>
                </mat-form-field>
              </span>
              <span >
                <mat-form-field appearance="outline">
                  <mat-label>Contact Number</mat-label>
                  <input
                    matInput
                    type="text"
                    placeholder="Mobile-Number"
                    class="form-group"
                    maxlength="10"
                    ng2TelInput
                    ng2TelOutput="getNumber($event)"
                    int1TelInputObject="telInputObject($event)"
                    (countryChange)="onCountryChange2($event)"
                    formControlName="emergancycontactnumber"
                  />
                  <mat-error
                    *ngIf="form.controls['emergancycontactnumber']?.errors?.['required'] && form.controls['emergancycontactnumber']?.touched"
                  >
                    Required Field</mat-error
                  >
                  <mat-error
                  *ngIf="form.controls['emergancycontactnumber']?.errors?.['minlength']"
                  >Telephone number has XX Digits
                </mat-error>
                <mat-error
                  *ngIf="form.controls['emergancycontactnumber']?.errors?.['maxlength']"
                  >Telephone number has XX Digits
                </mat-error>
                <mat-error
                  *ngIf="form.controls['emergancycontactnumber']?.errors?.['pattern']"
                  >Only numbers are allowed
                </mat-error>
                </mat-form-field>
              </span>
              <span>
                <mat-form-field appearance="outline">
                  <mat-label>Home Address</mat-label>
                  <textarea
                    matInput
                    class="form-group"
                    formControlName="emergancyaddress"
                  ></textarea>
                  <mat-error
                    *ngIf="form.controls['emergancyaddress']?.errors?.['required'] && form.controls['emergancyaddress']?.touched"
                  >
                  Emergencyaddress cannot be emplty</mat-error
                  >
                  <mat-error
                  *ngIf="form.controls['homeaddress']?.errors?.['minlength'] && form.controls['homeaddress']?.touched">
                  Please Provide postal address
                     </mat-error>
                </mat-form-field>
              </span>
              <span>
                <mat-form-field appearance="outline">
                  <mat-label>PinCode</mat-label>
                  <input
                    type="text"
                    matInput
                    placeholder="PinCode"
                    maxlength="6"
                    
                    (change)="onChangeEvent($event)"
                    formControlName="emergancypincode"
                  />
                  <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
                  <mat-error
                    *ngIf="form.controls['emergancypincode']?.errors?.['required'] && form.controls['emergancypincode']?.touched"
                  >
                    Pincode cannot be empty</mat-error
                  >
                  <mat-error
                    *ngIf="form.controls['emergancypincode']?.errors?.['maxlength']"
                    >Required 6 Characters only</mat-error
                  >
                  <mat-error
                    *ngIf="form.controls['emergancypincode']?.errors?.['pattern']"
                    >Only numbers are allowed</mat-error
                  >
                
                </mat-form-field>
              </span>
              <span >
                <mat-form-field appearance="outline" class="form-group">
                  <mat-label>Country</mat-label>
                  <input type="text" matInput formControlName="emergancycountry"/>
                </mat-form-field>
              </span>
              <span >
                ><br />
                <label>Do you need access to patient portal: </label>
                <span>
                  <mat-radio-group 
              aria-labelledby="example-radio-group-label"
              class="example-radio-group"
              [(ngModel)]="selection" 
              formControlName="accessforpatientportal"
            >
              <mat-radio-button
                class="example-radio-button"
                *ngFor="let selections of selectionlist"
                [value]="selections" 
              >
                {{ selections }}
              </mat-radio-button>
            </mat-radio-group>
                </span>
              </span>
            
          
              <div>
                <button mat-button matStepperPrevious>Back</button>
                <button mat-button (click)="stepper.reset()">Reset</button>
              </div>
            </mat-step>
            <mat-step>
              <span >
                <mat-form-field appearance="outline">
                  <mat-label>Allergytype</mat-label>
                  <mat-select (selectionChange)="onAllergytypeselect($event)" formControlName="allergytype">
                     <!-- <mat-select-filter [array]="listOfPosts" (filteredReturn)="filteredList=$event"></mat-select-filter>  -->
                     <mat-option
                      *ngFor="let list of listOfAllergytype"
                      [value]="list"
                      
                      >{{list}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </span>
              <span>
                <mat-form-field appearance="outline">
                  <mat-label>Allergyname</mat-label>
                  <mat-select   formControlName="allergyname">
                    
                    <mat-option
                      *ngFor="let an of listOfAllergyName"
                      [value]="an.AllergyName"
                      
                      >{{an.AllergyName}}</mat-option
                    >
                  </mat-select>
                </mat-form-field>
              </span>
              <span>
                <mat-form-field appearance="outline">
                  <mat-label>Allergy Details</mat-label>
                  <input matInput placeholder="Allergy Details" formControlName="allergydetails"/>
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>Allergy Discription</mat-label>
                  <input matInput placeholder="Allergy Discription" formControlName="allergydescription" />
                </mat-form-field>
              </span>
              <span>
                <mat-form-field appearance="outline">
                  <mat-label>Clinical Information</mat-label>
                  <input matInput placeholder="Clinical Information" formControlName="clinicalinformation" />
                </mat-form-field>
              </span>
           
  
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title> Is allergy fatal </mat-panel-title>
              </mat-expansion-panel-header>
              <mat-radio-group 
              aria-labelledby="example-radio-group-label"
              class="example-radio-group"
              [(ngModel)]="selection" 
              
            >
              <mat-radio-button
                class="example-radio-button"
                *ngFor="let selections of selectionlist"
                [value]="selections" 
              >
                {{ selections }}
              </mat-radio-button>
            </mat-radio-group>
            </mat-expansion-panel>
          
        
  
            <div>
              <button mat-button matStepperPrevious>Back</button>
              <button mat-button (click)="stepper.reset()">Reset</button>
            </div>
          </mat-step>
          </mat-stepper>
          </mat-card>
          </mat-accordion>
          </form>
        </div>
      </div>
    </div>
    </div></mat-card-content>
    </div>